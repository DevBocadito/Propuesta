<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sistema de Ventas Profesional</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <div id="notification-area"></div>
  
  <div class="container">
    <h1>Sistema de Ventas</h1>
    <form id="formVenta">
      
      <div class="card">
        <fieldset>
          <legend>Datos Generales</legend>
          <div class="form-grid">
            <div><label for="fecha">Fecha de venta</label><input type="date" id="fecha" required></div>
            <div><label for="vendedor">Vendedor</label><input type="text" id="vendedor" required></div>
          </div>
          <div style="margin-top: 1.5rem;">
            <label for="tipoCliente">Tipo de Cliente</label>
            <select id="tipoCliente" required disabled>
              <option value="" id="opcion-carga-cliente" selected disabled>Cargando Descuentos...</option>
            </select>
          </div>
        </fieldset>
      </div>

      <div class="card">
        <fieldset>
          <legend>Añadir Productos</legend>
          <div>
            <label for="producto-input">Producto</label>
            <input type="text" id="producto-input" list="lista-productos" placeholder="Cargando ..." disabled>
            <datalist id="lista-productos"></datalist>
          </div>
          <div class="form-grid" style="margin-top: 1.5rem; grid-template-columns: 1fr 1fr 1fr; align-items: end;">
            <div>
              <label for="cantidad">Cantidad</label>
              <input type="number" id="cantidad" min="1" value="1">
            </div>
            <div>
              <label for="precioUnitario">Precio Venta</label>
              <input type="text" id="precioUnitario" readonly style="background:#e9ecef; text-align:right; font-weight:bold; cursor:not-allowed;">
            </div>
            <div>
              <label for="stock">Stock</label>
              <input type="text" id="stock" readonly style="cursor:not-allowed; text-align:center; font-weight:bold;">
            </div>
          </div>
          <button type="button" id="btn-agregar-producto" style="margin-top: 1.5rem;">Añadir Producto</button>
        </fieldset>
      </div>
      
      <div class="card">
        <h3>Detalle de Venta</h3>
        <table id="tabla-productos">
          <thead>
            <tr>
              <th>Producto</th><th>Cant.</th><th>Subtotal</th><th>Acción</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
        <div id="total-general">Total Venta: $0</div>
      </div>

      <div class="card">
        <fieldset>
          <legend>Finalizar</legend>
          <div class="form-grid">
            <div>
              <label for="medioPago">Método de Pago</label>
              <select id="medioPago" required>
                <option value="" selected disabled>Selecciona...</option>
                <option value="Efectivo">Efectivo</option>
                <option value="Nequi">Nequi</option>
                <option value="Daviplata">Daviplata</option>
              </select>
            </div>
            <div>
              <label for="observaciones">Observaciones</label>
              <textarea id="observaciones" rows="1"></textarea>
            </div>
          </div>
          <button type="submit" id="btn-guardar-venta" style="margin-top: 1.5rem;">Guardar Venta</button>
        </fieldset>
      </div>
    </form>
  </div>

  <script src="js/utils.js"></script>
  <script src="js/formulario.js"></script>
</body>
</html>